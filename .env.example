# ==============================================
# Smart Accounting Platform - Environment Config
# ==============================================
# Copy this file to .env and update the values

# ==================
# Required Variables
# ==================

# Database connection URL (asyncpg for async operations)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://accounting_user:change_me_in_production@db:5432/accounting_db

# Sync database URL (for migrations and seed scripts)
# Format: postgresql://user:password@host:port/database
DATABASE_URL_SYNC=postgresql://accounting_user:change_me_in_production@db:5432/accounting_db

# Security key for JWT tokens and session encryption
# IMPORTANT: Generate a secure key with: openssl rand -hex 32
SECRET_KEY=change-me-use-openssl-rand-hex-32-for-production

# CORS origins (comma-separated list of allowed frontend origins)
# For local dev: http://localhost:3000,http://localhost:5173
# For production: https://your-frontend-domain.com (e.g., https://zzpershub.nl)
# ⚠️ IMPORTANT: Must use https:// scheme in production for CORS to work with TLS
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# Server port (default: 8000)
PORT=8000

# Environment (development, staging, production)
ENV=production

# ==================
# URL Configuration
# ==================

# Backend API URL (used in emails and internal references)
# For local dev: http://localhost:8000
# For production: https://api.yourdomain.com (e.g., https://api.zzpershub.nl)
APP_URL=http://localhost:8000

# Frontend URL (used in email links - verification, password reset)
# For local dev: http://localhost:5173
# For production: https://yourdomain.com (e.g., https://zzpershub.nl)
# ⚠️ IMPORTANT: This URL appears in verification/reset emails sent to users
FRONTEND_URL=http://localhost:5173

# ==================
# Email (Resend)
# ==================

# Resend API key for sending emails (required for email verification/password reset)
# Get your API key from https://resend.com
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# From email address for transactional emails
# Must be verified in Resend dashboard
RESEND_FROM_EMAIL=no-reply@example.com

# Support email shown in email templates
SUPPORT_EMAIL=support@example.com

# ==================
# Optional Variables
# ==================

# Redis URL (optional - if not set, Redis features are disabled)
# Format: redis://host:port/db
# REDIS_URL=redis://redis:6379/0

# Debug mode (set to false in production)
DEBUG=false

# File upload directory
UPLOAD_DIR=/data/uploads

# ==================
# Admin Whitelist
# ==================
# Comma-separated list of email addresses allowed to have admin role
# Admin users can ONLY be created via database seed (not public registration)
# Example: admin@example.com,superadmin@company.com
# ADMIN_WHITELIST=admin@example.com

# ==================
# Admin User Seeding
# ==================
# Use these environment variables with the seed script to create an admin user
# Example: SEED_ADMIN_EMAIL=admin@example.com SEED_ADMIN_PASSWORD=SecurePass123 python seed.py
# 
# SEED_ADMIN_EMAIL=admin@example.com
# SEED_ADMIN_PASSWORD=SecurePass123
# SEED_ADMIN_NAME=System Administrator

# ==================
# Docker Compose Only
# ==================
# These are only used when running with docker-compose.yml
# They configure the PostgreSQL container

# POSTGRES_USER=accounting_user
# POSTGRES_PASSWORD=change_me_in_production
# POSTGRES_DB=accounting_db

# ==================
# Frontend Build Time
# ==================
# API URL for frontend (used at build time by Vite)
# For local development with docker-compose: http://localhost:8000
# For production: https://api.yourdomain.com (e.g., https://api.zzpershub.nl)
# ⚠️ IMPORTANT: This is baked into the frontend at BUILD TIME, not runtime

# VITE_API_URL=http://localhost:8000
